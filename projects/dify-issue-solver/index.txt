3:I[42856,[],""]
5:I[67000,[],""]
6:I[75326,["8371","static/chunks/eb9a1ad1-e355142169896897.js","5326","static/chunks/5326-ac5dceec6c75ae26.js","7473","static/chunks/7473-94691a425c8c77e8.js","6924","static/chunks/6924-2c2e159cc29f0549.js","322","static/chunks/322-4c3dbaad2fb69fca.js","5101","static/chunks/app/projects/%5Bslug%5D/page-74ea3a79f2c8f0b1.js"],""]
7:I[39038,["8371","static/chunks/eb9a1ad1-e355142169896897.js","5326","static/chunks/5326-ac5dceec6c75ae26.js","7473","static/chunks/7473-94691a425c8c77e8.js","6924","static/chunks/6924-2c2e159cc29f0549.js","322","static/chunks/322-4c3dbaad2fb69fca.js","5101","static/chunks/app/projects/%5Bslug%5D/page-74ea3a79f2c8f0b1.js"],"Separator"]
4:["slug","dify-issue-solver","d"]
0:["Z02FsDn5Ou622Ol-Ewaii",[[["",{"children":["projects",{"children":[["slug","dify-issue-solver","d"],{"children":["__PAGE__?{\"slug\":\"dify-issue-solver\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["projects",{"children":[["slug","dify-issue-solver","d"],{"children":["__PAGE__",{},[["$L1","$L2",null],null],null]},[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","projects","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","projects","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/my_page/_next/static/css/1946c5917ea477bd.css","precedence":"next","crossOrigin":"$undefined"}]],["$","html",null,{"lang":"zh-CN","suppressHydrationWarning":true,"children":["$","body",null,{"className":"min-h-screen bg-background font-sans antialiased --font-inter","children":["$","div",null,{"className":"flex min-h-screen flex-col","children":[["$","header",null,{"className":"glass sticky top-0 z-50 w-full border-b border-border/50 backdrop-blur-xl","children":["$","div",null,{"className":"container mx-auto flex h-16 items-center justify-between px-4","children":[["$","$L6",null,{"href":"/","className":"group flex items-center space-x-3","children":[["$","div",null,{"className":"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-r from-purple-500 to-pink-500 shadow-lg transition-all duration-300 group-hover:scale-110 group-hover:shadow-xl","children":["$","span",null,{"className":"text-lg font-bold text-white","children":"石"}]}],["$","span",null,{"className":"bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-xl font-bold text-transparent","children":"石杰洋"}]]}],["$","nav",null,{"className":"hidden items-center space-x-8 md:flex","children":[["$","$L6",null,{"href":"/","className":"group relative text-sm font-medium transition-all duration-300 hover:text-purple-600 dark:hover:text-purple-400","children":[["$","span",null,{"className":"relative z-10","children":"首页"}],["$","div",null,{"className":"absolute -bottom-1 left-0 h-0.5 w-0 bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300 group-hover:w-full"}]]}],["$","$L6",null,{"href":"/projects","className":"group relative text-sm font-medium transition-all duration-300 hover:text-purple-600 dark:hover:text-purple-400","children":[["$","span",null,{"className":"relative z-10","children":"项目作品"}],["$","div",null,{"className":"absolute -bottom-1 left-0 h-0.5 w-0 bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300 group-hover:w-full"}]]}],["$","$L6",null,{"href":"/blog","className":"group relative text-sm font-medium transition-all duration-300 hover:text-purple-600 dark:hover:text-purple-400","children":[["$","span",null,{"className":"relative z-10","children":"博客"}],["$","div",null,{"className":"absolute -bottom-1 left-0 h-0.5 w-0 bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300 group-hover:w-full"}]]}],["$","$L6",null,{"href":"/about","className":"group relative text-sm font-medium transition-all duration-300 hover:text-purple-600 dark:hover:text-purple-400","children":[["$","span",null,{"className":"relative z-10","children":"关于我"}],["$","div",null,{"className":"absolute -bottom-1 left-0 h-0.5 w-0 bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300 group-hover:w-full"}]]}],["$","$L6",null,{"href":"/resume","className":"group relative text-sm font-medium transition-all duration-300 hover:text-purple-600 dark:hover:text-purple-400","children":[["$","span",null,{"className":"relative z-10","children":"简历"}],["$","div",null,{"className":"absolute -bottom-1 left-0 h-0.5 w-0 bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300 group-hover:w-full"}]]}]]}],["$","div",null,{"className":"flex items-center space-x-3","children":[["$","$L6",null,{"href":"https://github.com/corgii-123","target":"_blank","rel":"noopener noreferrer","className":"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border bg-background shadow-sm hover:text-accent-foreground h-8 rounded-md px-3 text-xs btn-hover border-purple-200 transition-all duration-300 hover:border-purple-500 hover:bg-purple-50 dark:border-purple-800 dark:hover:border-purple-400 dark:hover:bg-purple-950/50 flex items-center space-x-2","children":[["$","svg",null,{"className":"h-4 w-4","fill":"currentColor","viewBox":"0 0 24 24","children":["$","path",null,{"fillRule":"evenodd","d":"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z","clipRule":"evenodd"}]}],["$","span",null,{"children":"GitHub"}]]}],["$","$L6",null,{"href":"mailto:corgii123mail@gmail.com","className":"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary hover:bg-primary/90 h-8 rounded-md px-3 text-xs btn-hover gradient-primary glow text-white shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-xl flex items-center space-x-2","children":[["$","svg",null,{"className":"h-4 w-4","fill":"none","stroke":"currentColor","viewBox":"0 0 24 24","children":["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":2,"d":"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"}]}],["$","span",null,{"children":"联系我"}]]}]]}],["$","div",null,{"className":"md:hidden","children":["$","button",null,{"className":"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 rounded-md text-xs p-2","children":["$","svg",null,{"className":"h-5 w-5","fill":"none","stroke":"currentColor","viewBox":"0 0 24 24","children":["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":2,"d":"M4 6h16M4 12h16M4 18h16"}]}]}]}]]}]}],["$","main",null,{"className":"flex-1","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[]}]}],["$","footer",null,{"className":"border-t bg-background","children":["$","div",null,{"className":"container mx-auto px-4 py-12","children":[["$","div",null,{"className":"grid grid-cols-1 gap-8 md:grid-cols-4","children":[["$","div",null,{"className":"space-y-3","children":[["$","h3",null,{"className":"text-lg font-semibold","children":"石杰洋"}],["$","p",null,{"className":"text-sm text-muted-foreground","children":"AI-First Front-End Developer"}],["$","p",null,{"className":"text-sm text-muted-foreground","children":"专注知识库 / DevEx"}]]}],["$","div",null,{"className":"space-y-3","children":[["$","h4",null,{"className":"text-sm font-semibold","children":"导航"}],["$","div",null,{"className":"space-y-2","children":[["$","$L6",null,{"href":"/","className":"block text-sm text-muted-foreground transition-colors hover:text-foreground","children":"首页"}],["$","$L6",null,{"href":"/projects","className":"block text-sm text-muted-foreground transition-colors hover:text-foreground","children":"项目作品"}],["$","$L6",null,{"href":"/blog","className":"block text-sm text-muted-foreground transition-colors hover:text-foreground","children":"博客"}],["$","$L6",null,{"href":"/about","className":"block text-sm text-muted-foreground transition-colors hover:text-foreground","children":"关于我"}],["$","$L6",null,{"href":"/resume","className":"block text-sm text-muted-foreground transition-colors hover:text-foreground","children":"简历"}]]}]]}],["$","div",null,{"className":"space-y-3","children":[["$","h4",null,{"className":"text-sm font-semibold","children":"技术栈"}],["$","div",null,{"className":"space-y-2","children":[["$","p",null,{"className":"text-sm text-muted-foreground","children":"React / Vue"}],["$","p",null,{"className":"text-sm text-muted-foreground","children":"Next.js / Nuxt"}],["$","p",null,{"className":"text-sm text-muted-foreground","children":"AI / LangChain"}],["$","p",null,{"className":"text-sm text-muted-foreground","children":"Milvus / RAG"}]]}]]}],["$","div",null,{"className":"space-y-3","children":[["$","h4",null,{"className":"text-sm font-semibold","children":"联系方式"}],["$","div",null,{"className":"space-y-2","children":[["$","$L6",null,{"href":"https://github.com/corgii-123","target":"_blank","rel":"noopener noreferrer","className":"block text-sm text-muted-foreground transition-colors hover:text-foreground","children":"GitHub"}],["$","$L6",null,{"href":"https://x.com/Corgii_123","target":"_blank","rel":"noopener noreferrer","className":"block text-sm text-muted-foreground transition-colors hover:text-foreground","children":"X (Twitter)"}],["$","$L6",null,{"href":"mailto:corgii123mail@gmail.com","className":"block text-sm text-muted-foreground transition-colors hover:text-foreground","children":"Email"}]]}]]}]]}],["$","$L7",null,{"className":"my-8"}],["$","div",null,{"className":"flex flex-col items-center justify-between md:flex-row","children":[["$","p",null,{"className":"text-sm text-muted-foreground","children":"© 2024 石杰洋. All rights reserved."}],["$","div",null,{"className":"mt-4 flex items-center space-x-4 md:mt-0","children":["$","$L6",null,{"href":"/api/rss","className":"text-sm text-muted-foreground transition-colors hover:text-foreground","children":"RSS"}]}]]}]]}]}]]}]}]}]],null],null],["$L8",null]]]]
9:I[90322,["8371","static/chunks/eb9a1ad1-e355142169896897.js","5326","static/chunks/5326-ac5dceec6c75ae26.js","7473","static/chunks/7473-94691a425c8c77e8.js","6924","static/chunks/6924-2c2e159cc29f0549.js","322","static/chunks/322-4c3dbaad2fb69fca.js","5101","static/chunks/app/projects/%5Bslug%5D/page-74ea3a79f2c8f0b1.js"],"Image"]
a:"$Sreact.suspense"
2:["$","div",null,{"className":"container mx-auto max-w-4xl px-4 py-8","children":[["$","nav",null,{"aria-label":"breadcrumb","className":"mb-8","children":["$","ol",null,{"className":"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5","children":[["$","li",null,{"className":"inline-flex items-center gap-1.5","children":["$","a",null,{"className":"transition-colors hover:text-foreground","href":"/","children":"首页"}]}],["$","li",null,{"role":"presentation","aria-hidden":"true","className":"[&>svg]:w-3.5 [&>svg]:h-3.5","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-chevron-right","children":[["$","path","mthhwq",{"d":"m9 18 6-6-6-6"}],"$undefined"]}]}],["$","li",null,{"className":"inline-flex items-center gap-1.5","children":["$","a",null,{"className":"transition-colors hover:text-foreground","href":"/projects","children":"项目作品"}]}],["$","li",null,{"role":"presentation","aria-hidden":"true","className":"[&>svg]:w-3.5 [&>svg]:h-3.5","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-chevron-right","children":[["$","path","mthhwq",{"d":"m9 18 6-6-6-6"}],"$undefined"]}]}],["$","li",null,{"className":"inline-flex items-center gap-1.5","children":["$","span",null,{"role":"link","aria-disabled":"true","aria-current":"page","className":"font-normal text-foreground","children":"线上问题全自动解决工作流 (Dify Workflow)"}]}]]}]}],["$","article",null,{"children":[["$","div",null,{"className":"relative mb-8 h-64 w-full overflow-hidden rounded-lg md:h-96","children":["$","$L9",null,{"src":"/my_page/assets/solver-cover.png","alt":"线上问题全自动解决工作流 (Dify Workflow)","fill":true,"className":"object-cover","sizes":"(max-width: 768px) 100vw, (max-width: 1200px) 80vw, 1200px","priority":true}]}],["$","header",null,{"className":"mb-8","children":[["$","div",null,{"className":"mb-4 flex items-center gap-x-4 text-sm text-muted-foreground","children":[["$","time",null,{"children":"2025-04"}],["$","div",null,{"className":"flex flex-wrap gap-2","children":[["$","span","Dify",{"className":"rounded-full bg-slate-100 px-2.5 py-0.5 text-xs tracking-wide dark:bg-slate-700","children":"Dify"}],["$","span","n8n",{"className":"rounded-full bg-slate-100 px-2.5 py-0.5 text-xs tracking-wide dark:bg-slate-700","children":"n8n"}],["$","span","OpenAI",{"className":"rounded-full bg-slate-100 px-2.5 py-0.5 text-xs tracking-wide dark:bg-slate-700","children":"OpenAI"}],["$","span","Workflow",{"className":"rounded-full bg-slate-100 px-2.5 py-0.5 text-xs tracking-wide dark:bg-slate-700","children":"Workflow"}]]}]]}],["$","h1",null,{"className":"mb-6 text-3xl font-bold tracking-tight sm:text-4xl","children":"线上问题全自动解决工作流 (Dify Workflow)"}],["$","p",null,{"className":"text-xl leading-8 text-muted-foreground","children":"工单智能分发 + API 调度，全链路闭环"}],["$","ul",null,{"className":"mt-6 space-y-2","children":[["$","li","0",{"className":"flex items-start gap-3 text-muted-foreground","children":[["$","span",null,{"className":"mt-2 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-primary"}],["$","span",null,{"children":"峰值处理 200+/day，SLA < 5 s"}]]}],["$","li","1",{"className":"flex items-start gap-3 text-muted-foreground","children":[["$","span",null,{"className":"mt-2 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-primary"}],["$","span",null,{"children":"自动问题分类和解决方案匹配"}]]}],["$","li","2",{"className":"flex items-start gap-3 text-muted-foreground","children":[["$","span",null,{"className":"mt-2 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-primary"}],["$","span",null,{"children":"集成企业内部 API 和脚本系统"}]]}]]}]]}],["$","$L7",null,{"className":"my-8"}],["$","div",null,{"className":"prose prose-lg prose-neutral max-w-none dark:prose-invert","children":["$","$a",null,{"fallback":["$","div",null,{"children":"加载中..."}],"children":"$Lb"}]}],["$","$L7",null,{"className":"my-12"}],["$","div",null,{"className":"flex items-center justify-between","children":[["$","$L6",null,{"href":"/projects","className":"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 inline-flex items-center","children":[["$","svg",null,{"className":"mr-2 h-4 w-4","fill":"none","stroke":"currentColor","viewBox":"0 0 24 24","children":["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":2,"d":"M15 19l-7-7 7-7"}]}],"返回项目列表"]}],["$","div",null,{"className":"flex gap-2","children":[["$","$L6",null,{"href":"https://github.com/corgii-123","target":"_blank","rel":"noopener noreferrer","children":"GitHub","className":"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground h-8 rounded-md px-3 text-xs"}],["$","$L6",null,{"href":"mailto:corgii123mail@gmail.com","children":"讨论项目","className":"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground shadow hover:bg-primary/90 h-8 rounded-md px-3 text-xs"}]]}]]}]]}]]}]
8:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"线上问题全自动解决工作流 (Dify Workflow) | 石杰洋"}],["$","meta","3",{"name":"description","content":"工单智能分发 + API 调度，全链路闭环"}],["$","link","4",{"rel":"author","href":"https://github.com/corgii-123"}],["$","meta","5",{"name":"author","content":"石杰洋"}],["$","meta","6",{"name":"keywords","content":"前端开发,AI开发,知识库,React,Vue,Next.js,Milvus,LangChain"}],["$","meta","7",{"name":"creator","content":"石杰洋"}],["$","meta","8",{"property":"og:title","content":"石杰洋 · AI-First Front-End Developer"}],["$","meta","9",{"property":"og:description","content":"AI-First Front-End Developer，专注知识库 / DevEx。拥有 3 年教育 SaaS + AI 平台前端经验。"}],["$","meta","10",{"property":"og:url","content":"https://corgii-123.github.io/my_page/"}],["$","meta","11",{"property":"og:site_name","content":"石杰洋的个人网站"}],["$","meta","12",{"property":"og:locale","content":"zh_CN"}],["$","meta","13",{"property":"og:type","content":"website"}],["$","meta","14",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","15",{"name":"twitter:creator","content":"@Corgii_123"}],["$","meta","16",{"name":"twitter:title","content":"石杰洋 · AI-First Front-End Developer"}],["$","meta","17",{"name":"twitter:description","content":"AI-First Front-End Developer，专注知识库 / DevEx"}]]
1:null
c:I[92178,["8371","static/chunks/eb9a1ad1-e355142169896897.js","5326","static/chunks/5326-ac5dceec6c75ae26.js","7473","static/chunks/7473-94691a425c8c77e8.js","6924","static/chunks/6924-2c2e159cc29f0549.js","322","static/chunks/322-4c3dbaad2fb69fca.js","5101","static/chunks/app/projects/%5Bslug%5D/page-74ea3a79f2c8f0b1.js"],"MermaidDiagram"]
d:Tbd5,# Dify 工作流核心逻辑（伪代码）
class IssueResolver:
    def process_issue(self, issue_description):
        # 1. 问题理解和分类
        category = self.classify_issue(issue_description)

        # 2. 数据收集和分析
        context = self.gather_context(issue_description, category)

        # 3. 解决方案匹配
        if category == "ops":
            return self.handle_ops_issue(issue_description, context)
        elif category == "business":
            return self.handle_business_issue(issue_description, context)
        elif category == "permission":
            return self.handle_permission_issue(issue_description, context)

    def gather_context(self, description, category):
        context = {}

        if category == "ops":
            # 查询相关服务日志
            context['logs'] = self.query_aliyun_sls(description)
            # 获取系统监控数据
            context['metrics'] = self.get_system_metrics(description)

        elif category == "business":
            # 查询前端埋点数据
            context['user_behavior'] = self.query_frontend_events(description)
            # 分析用户操作路径
            context['user_journey'] = self.analyze_user_path(description)

        return context

    def query_aliyun_sls(self, description):
        """查询阿里云 SLS 日志"""
        # 提取关键信息：服务名、时间范围、错误类型
        service_name = self.extract_service_name(description)
        time_range = self.extract_time_range(description)

        # 构建 SLS 查询语句
        query = f"""
        * | where service = '{service_name}'
            and __time__ >= '{time_range.start}'
            and __time__ <= '{time_range.end}'
            and level in ('ERROR', 'WARN')
        """

        return self.sls_client.search_logs(query)

    def query_frontend_events(self, description):
        """查询前端埋点数据"""
        # 提取用户ID、页面、操作类型
        user_id = self.extract_user_id(description)
        page = self.extract_page_info(description)

        # 查询用户行为事件
        events = self.analytics_client.query_events(
            user_id=user_id,
            page=page,
            event_types=['click', 'error', 'api_call']
        )

        return events

    def handle_ops_issue(self, description, context):
        # 基于日志分析结果进行处理
        logs = context.get('logs', [])

        if self.detect_memory_leak(logs):
            return self.restart_service_with_memory_optimization()
        elif self.detect_database_connection_issue(logs):
            return self.reset_database_connections()

        # 默认处理逻辑
        action = self.extract_action(description)
        if action == "restart_service":
            result = self.ops_api.restart_service(service_name)
        elif action == "scale_resource":
            result = self.ops_api.scale_resource(resource_config)

        return self.format_response(result)
b:[["$","h2",null,{"children":"项目背景"}],"\n",["$","p",null,{"children":"随着公司业务快速发展，线上问题和用户工单数量激增，传统的人工处理方式已无法满足需求。为了实现问题的自动化处理和快速响应，我设计并实现了基于 Dify 工作流的智能问题解决系统。"}],"\n",["$","h2",null,{"children":"核心架构"}],"\n",["$","h3",null,{"children":"技术栈"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"工作流引擎"}],": Dify Workflow + Custom Nodes"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"自动化"}],": RAG + MCP Server 工具调用"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"AI 模型"}],": OpenAI GPT-4 + 业务微调模型"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"消息通信"}],": 企业 IM 集成（钉钉/飞书/微信）"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"日志系统"}],": 阿里云 SLS + 前端埋点监控"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"API 集成"}],": 内部运维 API + 监控系统"]}],"\n"]}],"\n",["$","h3",null,{"children":"系统架构"}],"\n",["$","pre",null,{"children":["$","$Lc",null,{"chart":"graph TB\n    A[用户报告问题] --> B[Dify 工作流引擎]\n    B --> C[问题分类器]\n    C --> D[运维问题]\n    C --> E[业务问题]\n    C --> F[权限问题]\n\n    D --> G[阿里云 SLS 日志查询]\n    D --> H[调用运维 API]\n    E --> I[前端埋点数据分析]\n    E --> J[查询业务文档]\n    F --> K[权限管理系统]\n\n    G --> L[日志分析结果]\n    H --> M[自动修复]\n    I --> N[用户行为分析]\n    J --> O[解决方案生成]\n    K --> P[权限调整]\n\n    L --> Q[智能诊断]\n    M --> Q\n    N --> Q\n    O --> Q\n    P --> Q\n\n    Q --> R[结果反馈]\n    R --> S[问题闭环]\n    R --> T[质量评估]\n"}]}],"\n",["$","h2",null,{"children":"核心功能"}],"\n",["$","h3",null,{"children":"🎯 智能问题分类"}],"\n",["$","p",null,{"children":"基于团队建立的向量库，自动识别问题类型："}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"运维类"}],": 服务重启、资源扩容、配置更新"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"业务类"}],": 数据查询、流程问题、功能异常"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"权限类"}],": 账号管理、权限申请、访问控制"]}],"\n"]}],"\n",["$","h3",null,{"children":"📊 数据源集成"}],"\n",["$","h4",null,{"children":"阿里云 SLS 日志系统"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"应用日志"}],": 服务异常、性能瓶颈、错误堆栈"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"访问日志"}],": API 调用、响应时间、状态码分析"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"系统日志"}],": 资源使用、服务状态、配置变更"]}],"\n"]}],"\n",["$","h4",null,{"children":"前端埋点监控"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"用户行为"}],": 页面访问、点击事件、操作路径"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"性能监控"}],": 页面加载时间、资源加载失败、接口响应"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"错误追踪"}],": JS 错误、接口异常、用户操作异常"]}],"\n"]}],"\n",["$","h3",null,{"children":"🔧 自动化解决方案"}],"\n",["$","pre",null,{"children":["$","pre",null,{"className":"language-python","children":["$","code",null,{"children":"$d"}]}]}],"\n",["$","h3",null,{"children":"🚀 API 编排系统"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"服务重启"}],": 基于日志分析自动识别服务名称并执行重启"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"资源扩容"}],": 结合监控数据和负载情况自动调整资源配置"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"数据查询"}],": 整合阿里云 SLS、埋点数据等多个数据源进行查询和分析"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"权限管理"}],": 自动处理常见的权限申请和分配"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"故障诊断"}],": 通过日志模式识别和前端错误追踪进行智能诊断"]}],"\n"]}],"\n",["$","h3",null,{"children":"📊 实时监控与反馈"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"处理状态跟踪"}],": 实时监控每个工单的处理进度"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"质量评估"}],": 自动评估解决方案的有效性"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"学习优化"}],": 基于反馈持续优化工作流"]}],"\n"]}],"\n",["$","h2",null,{"children":"技术亮点"}],"\n",["$","h3",null,{"children":"Dify 工作流设计"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"模块化节点"}],": 将复杂逻辑拆分为可复用的节点"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"条件分支"}],": 基于问题类型和复杂度的智能路由"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"异常处理"}],": 完善的错误处理和回退机制"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"并行处理"}],": 支持多个子任务并行执行"]}],"\n"]}],"\n",["$","h3",null,{"children":"知识库集成"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"历史案例"}],": 从知识库中匹配相似的历史问题"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"解决方案库"}],": 维护标准化的解决方案模板"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"最佳实践"}],": 结合团队经验的自动化建议"]}],"\n"]}],"\n",["$","h2",null,{"children":"业务价值"}],"\n",["$","h3",null,{"children":"📈 效率提升"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"处理速度"}],": 平均响应时间从 30 分钟降至 3 分钟"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"处理容量"}],": 日均处理 200+ 工单，峰值处理能力显著提升"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"人力释放"}],": 释放 60% 的重复性工作，工程师专注核心问题"]}],"\n"]}],"\n",["$","h3",null,{"children":"🎯 服务质量"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"24/7 可用"}],": 全天候自动处理，无人工干预"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"一致性"}],": 标准化的处理流程，减少人为错误"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"可追踪"}],": 完整的处理日志和审计跟踪"]}],"\n"]}],"\n",["$","h3",null,{"children":"💰 成本节约"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"人力成本"}],": 减少 40% 的运维人力投入"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"响应时间"}],": 显著提升用户满意度"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"系统稳定性"}],": 快速响应减少了问题的级联影响"]}],"\n"]}],"\n",["$","h2",null,{"children":"实际应用案例"}],"\n",["$","h3",null,{"children":"案例 1：服务自动重启"}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"问题"}],": \"生产环境 user-service 响应缓慢\"\n",["$","strong",null,{"children":"处理流程"}],":"]}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"识别为运维问题"}],"\n",["$","li",null,{"children":"查询阿里云 SLS 中 user-service 近 30 分钟的错误日志"}],"\n",["$","li",null,{"children":"分析发现大量 \"OutOfMemoryError\" 和数据库连接超时"}],"\n",["$","li",null,{"children":"基于日志模式识别为内存泄漏问题"}],"\n",["$","li",null,{"children":"自动执行服务重启并调整 JVM 参数"}],"\n",["$","li",null,{"children":"验证服务恢复正常，响应时间降至正常水平"}],"\n",["$","li",null,{"children":"通知相关人员并生成问题报告"}],"\n"]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"日志分析示例"}],":"]}],"\n",["$","pre",null,{"children":["$","pre",null,{"className":"","children":["$","code",null,{"children":"2025-04-01 14:32:15 ERROR [user-service] OutOfMemoryError: Java heap space\n2025-04-01 14:32:18 ERROR [user-service] Connection timeout to database\n2025-04-01 14:32:25 WARN  [user-service] High GC frequency detected\n"}]}]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"结果"}],": 3 分钟内完成处理，服务恢复正常，并识别出根本原因"]}],"\n",["$","h3",null,{"children":"案例 2：前端异常诊断"}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"问题"}],": \"用户反馈提交作业后页面卡死，作业状态显示异常\"\n",["$","strong",null,{"children":"处理流程"}],":"]}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"识别为业务问题"}],"\n",["$","li",null,{"children":"查询前端埋点数据，定位用户操作路径"}],"\n",["$","li",null,{"children":"分析发现用户在 \"作业提交\" 按钮点击后，接口调用失败"}],"\n",["$","li",null,{"children":"查询阿里云 SLS 中对应 API 的错误日志"}],"\n",["$","li",null,{"children":"发现数据库写入超时导致的 500 错误"}],"\n",["$","li",null,{"children":"自动触发数据库连接池重置"}],"\n",["$","li",null,{"children":"生成用户操作重试建议"}],"\n"]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"前端埋点数据"}],":"]}],"\n",["$","pre",null,{"children":["$","pre",null,{"className":"language-json","children":["$","code",null,{"children":"{\n  \"user_id\": \"12345\",\n  \"page\": \"/homework/submit\",\n  \"events\": [\n    { \"type\": \"click\", \"target\": \"#submit-btn\", \"timestamp\": \"14:30:15\" },\n    {\n      \"type\": \"api_call\",\n      \"url\": \"/api/homework\",\n      \"status\": 500,\n      \"timestamp\": \"14:30:16\"\n    },\n    { \"type\": \"error\", \"message\": \"Request timeout\", \"timestamp\": \"14:30:20\" }\n  ]\n}\n"}]}]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"结果"}],": 2 分钟内定位问题并自动修复，用户体验显著改善"]}],"\n",["$","h3",null,{"children":"案例 3：权限批量处理"}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"问题"}],": \"直播讲用户需要开通线上语音测评系统权限\"\n",["$","strong",null,{"children":"处理流程"}],":"]}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"识别为权限申请"}],"\n",["$","li",null,{"children":"验证直播讲和学员"}],"\n",["$","li",null,{"children":"自动分配线上测评权限"}],"\n",["$","li",null,{"children":"发送权限开通通知"}],"\n"]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"结果"}],": 自动化处理，无需人工干预"]}],"\n",["$","h2",null,{"children":"技术挑战与解决"}],"\n",["$","h3",null,{"children":"问题理解准确性"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"挑战"}],": 自然语言描述的问题可能模糊或不准确"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"解决"}],": 结合上下文和历史数据进行语义理解"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"效果"}],": 问题分类准确率达到 92%"]}],"\n"]}],"\n",["$","h3",null,{"children":"API 调用安全性"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"风险"}],": 自动化系统可能执行危险操作"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"措施"}],": 多层权限验证 + 操作审计 + 回滚机制"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"保障"}],": 建立完善的安全防护体系"]}],"\n"]}],"\n",["$","h3",null,{"children":"系统集成复杂性"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"难点"}],": 需要集成多个内部系统和 API"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"方案"}],": 统一的 API Gateway + 标准化接口"]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"简化"}],": 通过适配器模式屏蔽系统差异"]}],"\n"]}],"\n",["$","hr",null,{}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"🔥 这个项目展示了 AI 工作流在企业运维中的强大潜力，通过智能化的问题处理，大幅提升了运维效率和服务质量。"}],"\n"]}]]
